<ion-app>
  <ion-router-outlet></ion-router-outlet>
</ion-app>
<!-- <ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>
      Ionic-Datatable
    </ion-title>
  </ion-toolbar>
</ion-header>
<ion-content [fullscreen]="true" (window:resize)="onResize($event)">

  <div class="no-padding" style="padding: 10px;margin-bottom:10vh;">
    <div>
      <div class="float-right">
        <ion-button class="extra-botton create-botton" color="danger" (click)="showCreate = !showCreate;">
          <ion-icon class="mr-5" name="add-circle-outline"></ion-icon>
          Create / Import Assets
        </ion-button>
        <div *ngIf="showCreate"
          class="position-absolute rounded shadow-sm border custom-side-menu-toggle Side-toggle-Menu-No-Close float-right"
          style="width: 245px;">
          <p class="border-bottom Side-toggle-Menu-No-Close font-size-18" style="font-size: 18px !important;">
            <ion-icon name="add-outline" class="color-red" style="margin: 0px 0px -3px 0px;"></ion-icon>
            Create Asset
          </p>
          <p class="border-bottom Side-toggle-Menu-No-Close font-size-18" style="font-size: 18px !important;">
            <ion-icon name="arrow-down-circle-outline" class="color-red" style="margin: 0px 0px -3px 0px;"></ion-icon>
            Import Assets
          </p>
        </div>
      </div>
      <div class="float-right">
        <ion-button class="extra-botton" color="medium" fill="outline" title="select assets to export"
          [disabled]="!disableExport">
          <ion-icon class="mr-5" name="arrow-up-circle-outline"></ion-icon>
          Export Assets
        </ion-button>
      </div>
      <div class="float-right">
        <ion-button class="extra-botton" color="medium" fill="outline" *ngIf="!showFilter"
          (click)="showFilter =!showFilter">
          <ion-icon class="mr-5" name="filter-outline"></ion-icon>
          Filters
        </ion-button>
        <ion-button class="extra-botton" color="medium" *ngIf="showFilter" (click)="showFilter =!showFilter">
          <ion-icon class="mr-5" name="chevron-up-outline"></ion-icon>
          Filters
        </ion-button>

      </div>
      <div style="float: left;margin: -11px 2px 10px 20px;">
        <h1>Assets <b class="color-red">({{posts?.length}})</b></h1>
      </div>
      <div class="ion-search">
        <ion-searchbar placeholder="Search by Asset ID, Names & Description" mode="ios"></ion-searchbar>
      </div>

      <div *ngIf="showFilter" class="filter" style="clear: both;margin: 0px 0px 20px 10px;padding-top: 18px;">
        <ion-item class="category" color="light">
          <ion-label>Category</ion-label>
          <ion-select multiple="true" cancelText="Cancel" interface="popover" (ionChange)="changeCategory();"
            [(ngModel)]="advanceFilter.category" okText="Okay!" mode="ios">
            <ion-select-option value="Rooms">Rooms</ion-select-option>
            <ion-select-option value="Racks">Racks</ion-select-option>
            <ion-select-option value="Cages">Cages</ion-select-option>
            <ion-select-option value="Cables">Cables</ion-select-option>
          </ion-select>
        </ion-item>
        <ion-item class="date" color="light">
          <ion-datetime displayFormat="MM/DD/YYYY" placeholder="Date" [(ngModel)]="advanceFilter.date" min="1994-03-14"
            max="2012-12-09"></ion-datetime>
        </ion-item>
        <ion-item class="location" color="light">
          <ion-label>Location</ion-label>
          <ion-select cancelText="Cancel" interface="popover" okText="Okay!" [(ngModel)]="advanceFilter.location"
            mode="ios">
            <ion-select-option value="bacon">Bacon</ion-select-option>
            <ion-select-option value="olives">Black Olives</ion-select-option>
            <ion-select-option value="xcheese">Extra Cheese</ion-select-option>
            <ion-select-option value="peppers">Green Peppers</ion-select-option>
            <ion-select-option value="mushrooms">Mushrooms</ion-select-option>
            <ion-select-option value="onions">Onions</ion-select-option>
            <ion-select-option value="pepperoni">Pepperoni</ion-select-option>
            <ion-select-option value="pineapple">Pineapple</ion-select-option>
            <ion-select-option value="sausage">Sausage</ion-select-option>
            <ion-select-option value="Spinach">Spinach</ion-select-option>
          </ion-select>
        </ion-item>
        <ion-item class="status" color="light">
          <ion-label>Status</ion-label>
          <ion-select cancelText="Cancel" interface="popover" [(ngModel)]="advanceFilter.status" okText="Okay!"
            mode="ios">
            <ion-select-option value="Active">Active</ion-select-option>
            <ion-select-option value="Inactive">Inactive</ion-select-option>
            <ion-select-option value="Applied">Applied</ion-select-option>
          </ion-select>
        </ion-item>
        <ion-item class="location" color="light" *ngFor="let item of showMoreFilterModel" [hidden]="!item.select">
          <ion-label>{{item.name}}</ion-label>
          <ion-select cancelText="Cancel" interface="popover" [(ngModel)]="advanceFilter.asdasd" okText="Okay!"
            mode="ios">
            <ion-select-option value="Active">Active</ion-select-option>
            <ion-select-option value="Inactive">Inactive</ion-select-option>
            <ion-select-option value="Applied">Applied</ion-select-option>
          </ion-select>
          <button (click)="item.select = !item.select">
            <ion-icon class="close-filter" name="close-circle"></ion-icon>
          </button>
        </ion-item>
        <ion-item class="action" lines="none">
          <ion-button color="light" class="plus-button" *ngIf="!showMoreFilter"
            (click)="showMoreFilter = !showMoreFilter">
            <ion-icon name="add-outline" style="font-size: 20px;"></ion-icon>
          </ion-button>
          <ion-button color="medium" class="plus-button" *ngIf="showMoreFilter"
            (click)="showMoreFilter = !showMoreFilter">
            <ion-icon name="add-outline" style="font-size: 20px;"></ion-icon>
          </ion-button>
          <div *ngIf="showMoreFilter" style="margin-top: 25vh;"
            class="position-absolute rounded shadow-sm border custom-side-menu-toggle Side-toggle-Menu-No-Close">
            <p class=" Side-toggle-Menu-No-Close" *ngFor="let item of showMoreFilterModel" (click)="item.select = true">
              <b> {{item.name}} </b>
            </p>
          </div>
          <ion-button color="danger" class="apply">
            Apply
          </ion-button>
          <ion-icon class="" name="close-circle" style="color:#EE3124;margin-top: 4px;" (click)="resetFilter();">
          </ion-icon>
          <span style="color:#EE3124;margin-top: 4px;" (click)="resetFilter();">Clear All</span>
        </ion-item>
      </div>
      <div style="float: left;margin: 0px 2px 10px 20px;width: 100%;" *ngIf="showDelete">
        <ion-button class="extra-botton" color="medium" fill="outline" (click)="DeleteRow()">
          <ion-icon class="mr-5" name="trash-outline" style="color:#EE3124"></ion-icon>
          Delete All Selected
        </ion-button>
      </div>
    </div>

    <div class="row">

      <div class="table-responsive">
        <table datatable [dtOptions]="dtOptions"
          class="table display table-striped table-hover dt-responsive display nowrap" id="data-table"
          [dtTrigger]="dtTrigger" cellspacing="0" width="100%">
          <thead>
            <tr>
              <th>
                <input type="checkbox" [(ngModel)]='selectAll' (change)="selectALL($event)">
              </th>
              <th *ngFor="let item of columns" [hidden]="!item.visible">{{item.name}}</th>
              <th class="action-button" style="cursor: pointer;">
                <ion-icon name="chevron-down-circle-outline" class="action-button" style="margin-bottom: -3px;"
                  (click)="showSelect = !showSelect;"></ion-icon>
                <div *ngIf="showSelect"
                  class="position-absolute rounded display-option shadow-sm border custom-side-menu-toggle Side-toggle-Menu-No-Close float-right">
                  <p class="border-bottom checkbox-class Side-toggle-Menu-No-Close" *ngFor="let item of columns">
                    <input type="checkbox" class="checkbox-class" [(ngModel)]='item.visible'
                      style="position: absolute;left:0;margin-left: 10px;margin-right: 10px;"
                      (change)="selectColumn(item)">
                    {{item.name}}
                  </p>
                </div>
              </th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let post of posts;let i=index" (mouseenter)="showAction(i,$event)">
              <td class="text-center">
                <button *ngIf="!post.expand && showExpand" (click)="post.expand = !post.expand"
                  style="color:green;background-color: transparent;font-size: 20px; margin: 0px 11px 0px 0px;">
                  <ion-icon name="add-circle-outline"></ion-icon>
                </button>
                <button *ngIf="post.expand && showExpand" (click)="post.expand = !post.expand"
                  style="color:brown;background-color: transparent;font-size: 20px;margin: 0px 11px 0px 0px;">
                  <ion-icon name="remove-circle-outline"></ion-icon>
                </button>
                <input type="checkbox" [(ngModel)]="post.select" (change)="selectRow($event)">
              </td>
              <td class="text-center" *ngIf="model.asset">{{ post.assetId }}</td>
              <td class="text-center" *ngIf="model.name">{{ post.name }}</td>
              <td class="text-center" *ngIf="model.category">{{ post.category }}</td>
              <td class="text-center" *ngIf="model.location"><span class="show-limited-char">{{ post.location }}</span>
              </td>
              <td class="text-center" *ngIf="model.description"><span class="show-limited-char">{{ post.description
                  }}</span></td>
              <td class="text-center">
                <span *ngIf="post.showAction">
                  <button class="view-button">
                    <ion-icon name="eye-outline" class="view-icon"></ion-icon>
                    View
                  </button>
                  <button class="more-button" (click)="OpenSideMenuToggle(post,posts)">
                    <ion-icon slot="icon-only" ios="ellipsis-horizontal" md="ellipsis-horizontal"></ion-icon>
                  </button>
                  <div *ngIf="post?.filterFlag" style="margin-top: 10px;"
                    class="position-absolute rounded shadow-sm border custom-side-menu-toggle Side-toggle-Menu-No-Close">
                    <p class="border-bottom Side-toggle-Menu-No-Close">
                      <b>
                        <ion-icon name="create-outline"
                          style="position: absolute;left:0;margin-left: 10px;margin-right: 10px;"></ion-icon>
                        Edit
                      </b>
                    </p>
                    <p class="Side-toggle-Menu-No-Close border-bottom">
                      <b>
                        <ion-icon name="copy-outline"
                          style="position: absolute;left:0;margin-left: 10px;margin-right: 10px;"></ion-icon>
                        Duplicate
                      </b>
                    </p>
                    <p class="Side-toggle-Menu-No-Close color-red">
                      <b>
                        <ion-icon name="trash-outline"
                          style="position: absolute;left:0;margin-left: 10px;margin-right: 10px;"></ion-icon>
                        Delete
                      </b>
                    </p>
                  </div>
                </span>
              </td>
              <div *ngIf="post.expand">
                <p class="text-info"><b>NPI :</b>asdas</p>
                <p class="text-danger"><b>Provider Name :</b>asdasd</p>
                <p class="text-warning"><b>Status :</b> asdasdas</p>
                <p class="text-info"><b>Assigned to :</b> asdasd</p>
                <p><b>Application type :</b> sadsdas</p>
                <p><b>Provider Type :</b> asdasdasdasd</p>
              </div>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</ion-content> -->